<template>
  <div class="client-page">
    <div class="client-header">
      <h2>ê±°ë˜ì²˜ ë¦¬ìŠ¤íŠ¸</h2>
      <!-- ê±°ë˜ì²˜ ë“±ë¡ -->
      <Button
          icon="pi pi-plus"
          iconPos="left"
          @click="goToRegister"
          class="register-btn"/>
      <BasePopup :visible="showDialog" title="ê±°ë˜ì²˜ ë“±ë¡" @close="showDialog = false">
        <div class="form-wrap">
          <div class="form-item">
            <label>ì‚¬ì—…ìë²ˆí˜¸</label>
            <InputText v-model="newClient.businessNumber" />
          </div>
          <div class="form-item">
            <label>ê±°ë˜ì²˜ëª…</label>
            <InputText v-model="newClient.name" />
          </div>
          <div class="form-item">
            <label>ì—…ì¢…</label>
            <InputText v-model="newClient.industry" />
          </div>
          <div class="form-item">
            <label>ì´ë©”ì¼</label>
            <InputText v-model="newClient.email" />
          </div>
          <div class="form-item">
            <label>ì—°ë½ì²˜</label>
            <InputText v-model="newClient.contact" />
          </div>
          <div class="form-item">
            <label>ì™¸ìƒëŒ€ íšŒìˆ˜ í‰ê· ì¼ìˆ˜</label>
            <InputText v-model="newClient.expectedRecoveryDays" />
          </div>

          <Button label="ë“±ë¡í•˜ê¸°" class="submit-btn" @click="submitClient" />
        </div>
      </BasePopup>
    </div>
    <!-- ê±°ë˜ì²˜ ë¦¬ìŠ¤íŠ¸ -->
    <DataTable :value="clients" class="client-table">
      <Column field="name" header="ê±°ë˜ì²˜ëª…" />
      <Column field="industry" header="ì—…ì¢…" />
      <Column field="email" header="ì´ë©”ì¼" />
      <Column field="contact" header="ì—°ë½ì²˜" />
    </DataTable>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import DataTable from 'primevue/datatable'
import Column from 'primevue/column'
import Button from 'primevue/button'
import InputText from 'primevue/inputtext'
import BasePopup from "@/pages/common/BasePopup.vue";

// ì˜ˆì‹œ ë°ì´í„°
const clients = ref([
  { name: 'ì²œì¬êµìœ¡', industry: 'êµìœ¡', email: 'edu@chunjae.co.kr', contact: '02-1234-5678', expectedRecoveryDays: 30 },
  { name: 'ë„¤ì´ë²„', industry: 'IT', email: 'naver@naver.com', contact: '031-1234-5678', expectedRecoveryDays: 15 }
])

const newClient = ref({
  businessNumber: '',
  name: '',
  industry: '',
  email: '',
  contact: '',
  expectedRecoveryDays : ''
});

const showDialog = ref(false);

const goToRegister = () => {
  showDialog.value = true;
}
</script>

<style scoped>
.register-btn {
  background-color:#b0b0b8;
  border: none;
  border-radius: 8px;
  padding: 6px 14px; /* ğŸ‘ˆ ì‚´ì§ ì‘ê²Œ */
  font-weight: 600;
  font-size: 14px; /* ğŸ‘ˆ ê¸€ìë„ ì‚´ì§ ì‘ê²Œ */
  color: white;
  cursor: pointer;
  transition: background-color 0.3s, transform 0.2s;
}
.register-btn:hover {
  background-color: #4e4e53;
  transform: scale(1.05); /* ğŸ‘ˆ hover ì‹œ ì•½ê°„ ì»¤ì§€ëŠ” íš¨ê³¼ */
}

.client-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}
.client-table {
  width: 100%;
}

.form-wrap {
  display: flex;
  flex-direction: column;
  gap: 16px;
  margin-top: 20px;
}

/* í•œ ì¤„ì— label + input */
.form-item {
  display: flex;
  align-items: center; /* ìˆ˜ì§ ê°€ìš´ë° ì •ë ¬ */
  gap: 12px;
}

/* label */
.form-item label {
  width: 130px; /* ë¼ë²¨ ë„ˆë¹„ ê³ ì • */
  font-weight: 600;
  font-size: 14px;
}

/* input */
.form-item :deep(.p-inputtext) {
  flex: 1;
}

/* ë“±ë¡ ë²„íŠ¼ */
.submit-btn {
  width: 100%;
  margin-top: 10px;
  background-color: #b0b0b8;
  border: none;
}
.submit-btn:hover {
  background-color: #4e4e53;
}

</style>